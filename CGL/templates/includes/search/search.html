{% extends "base.html" %} 
{% load wagtailcore_tags wagtailimages_tags  %} 
{% block title %}Search{% if search_results %} results{% endif %}{% if search_query %} for “{{ search_query }}”{% endif %}{% endblock %}
 
{% block search_description %}Search{% if search_results %} results{% endif %}
{% if search_query %} for “{{ search_query }}”{% endif %}
{% endblock %}

{% block body_class %}template-search-results{% endblock %} 
{% block content %}

<section>
  <div class="container">
    <div class="row mb-18 text-justify">
      <div class="col-lg-18 col-md-12">
        <div class="p-3 p-lg-6 box-shadow black-bg">
          <h2 class="h2 my-3">Search<h2>     
          <form class="input-group" action="{% url 'search' %}" method="GET">
            <input class="form-control h-auto" placeholder="Search for..." name="query" aria-describedby="button-addon2" type="text">
            <button class="btn btn-theme" type="submit" id="button-addon2"><span>Search</span></button>
          </form>
        </div>
    
   <div class="row align-items-center text-center justify-content-center mt-4">
      <div class="col-lg-8 col-12">
        <div class="section-title">
          {% if search_results %}
            <ul class="list-unstyled">
              {% for result in search_results %}
                <li class="mb-3">
                  <h4><a href="{% pageurl result %}">{{ result }}</a></h4>
                  {% if result.search_description %}
                    <p>{{ result.search_description }}</p>
                  {% endif %}
                </li>
              {% endfor %}
            </ul>
          {% else %}
            <p>No results found</p>
          {% endif %}
        </div>
      </div>
       {% if search_results and search_results.paginator.num_pages > 2 %}
          <div class="pagination mt-4">
            <span class="mr-2">Page {{ search_results.number }} of {{ search_results.paginator.num_pages }}.</span>

            {% if search_results.has_previous %}
              <a href="{% url 'search' %}?query={{ search_query|urlencode }}&amp;page={{ search_results.previous_page_number }}">Previous</a>
            {% endif %}

            {% if search_results.has_next %}
              <a href="{% url 'search' %}?query={{ search_query|urlencode }}&amp;page={{ search_results.next_page_number }}">Next</a>
            {% endif %}
          </div>
        {% endif %}
      </div>
    </div>
  </div>
    </div>
  </div>
</section>

{% endblock %}
